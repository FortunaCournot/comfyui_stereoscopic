{"id":"f62e0fac-d65d-490c-9a0c-2411ab46403a","revision":0,"last_node_id":45,"last_link_id":63,"nodes":[{"id":22,"type":"ImageScale","pos":[-551.7053833007812,197.10391235351562],"size":[270,130],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":55},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":25},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":26},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[28,42]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"ImageScale","widget_ue_connectable":{}},"widgets_values":["nearest-exact",388,512,"disabled"]},{"id":19,"type":"Image Comparer (rgthree)","pos":[153.7157440185547,410.0186767578125],"size":[683.2443237304688,511.8073425292969],"flags":{},"order":13,"mode":0,"inputs":[{"dir":3,"name":"image_a","type":"IMAGE","link":51},{"dir":3,"name":"image_b","type":"IMAGE","link":59}],"outputs":[],"title":"Watermark not visible: Compare Encryypted Image (A) to Original Image (B -> move)","properties":{"cnr_id":"rgthree-comfy","ver":"1.0.0","comparer_mode":"Slide","widget_ue_connectable":{}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_ghqbh_00023_.png&type=temp&subfolder=&rand=0.8869975503481079"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_ghqbh_00024_.png&type=temp&subfolder=&rand=0.4949786509323111"}]]},{"id":20,"type":"Image Comparer (rgthree)","pos":[167.76820373535156,-176.53663635253906],"size":[683.2443237304688,511.8073425292969],"flags":{},"order":15,"mode":0,"inputs":[{"dir":3,"name":"image_a","type":"IMAGE","link":35},{"dir":3,"name":"image_b","type":"IMAGE","link":28}],"outputs":[],"title":"Compare Decrypted Watermark (A) to Original Watermark (B -> move)","properties":{"cnr_id":"rgthree-comfy","ver":"1.0.0","comparer_mode":"Slide","widget_ue_connectable":{}},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_ghqbh_00021_.png&type=temp&subfolder=&rand=0.16272393700353793"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_ghqbh_00022_.png&type=temp&subfolder=&rand=0.35513994023637097"}]]},{"id":35,"type":"MarkdownNote","pos":[-363.4657897949219,-896.2719116210938],"size":[789.1874389648438,101.8570327758789],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["# To proof encrypted image set true.\n\n# To investigate how watermark in encryption should look set false."],"color":"#432","bgcolor":"#653"},{"id":38,"type":"Switch image [Crystools]","pos":[-220.5063018798828,-730.2969360351562],"size":[270,78],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"on_true","name":"on_true","type":"IMAGE","link":63},{"localized_name":"on_false","name":"on_false","type":"IMAGE","link":49},{"localized_name":"boolean","name":"boolean","type":"BOOLEAN","widget":{"name":"boolean"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[51,53]}],"title":"Use encrypted image","properties":{"Node name for S&R":"Switch image [Crystools]"},"widgets_values":[true]},{"id":39,"type":"MarkdownNote","pos":[175.840087890625,-367.1537780761719],"size":[596.9317626953125,137.3503875732422],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["# If watermark exits in encrypted image, it is displayed (A). \n## - If (A) is black, the watermark is not detected.\n## - B just displays the watermark image used for encryption."],"color":"#432","bgcolor":"#653"},{"id":41,"type":"MarkdownNote","pos":[-1051.50146484375,-905.9903564453125],"size":[480.592529296875,94.95555877685547],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["# Put encrypted image to investigate here"],"color":"#432","bgcolor":"#653"},{"id":42,"type":"MarkdownNote","pos":[-1052.55810546875,-1181.134521484375],"size":[1474.406005859375,184.67474365234375],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["# Watermark encryption/decryption is a just showcase. It can easily be tricked. \n# It can be used as a baseline for people who like to work on a better algorithm.\n"],"color":"#432","bgcolor":"#653"},{"id":28,"type":"DecryptWatermark","pos":[-203.45582580566406,-17.28218650817871],"size":[210,102],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"base_image","name":"base_image","type":"IMAGE","link":60},{"localized_name":"encrypted","name":"encrypted","type":"IMAGE","link":53},{"localized_name":"secret","name":"secret","type":"INT","widget":{"name":"secret"},"link":40}],"outputs":[{"localized_name":"watermark","name":"watermark","type":"IMAGE","links":[35]}],"properties":{"cnr_id":"comfyui_stereoscopic","ver":"c2931a70057d2a91eba8182d86864debd415d026","Node name for S&R":"DecryptWatermark","widget_ue_connectable":{}},"widgets_values":[815]},{"id":24,"type":"GetResolutionForVR","pos":[-551.1317749023438,-178.8477783203125],"size":[162.41015625,86],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"base_image","name":"base_image","type":"IMAGE","link":61}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[25]},{"localized_name":"height","name":"height","type":"INT","links":[26]},{"localized_name":"count","name":"count","type":"INT","links":null},{"localized_name":"resolution","name":"resolution","type":"INT","links":null}],"properties":{"cnr_id":"comfyui_stereoscopic","ver":"c2931a70057d2a91eba8182d86864debd415d026","Node name for S&R":"GetResolutionForVR","widget_ue_connectable":{}},"widgets_values":[]},{"id":34,"type":"EncryptWatermark","pos":[-292.9173889160156,-182.42364501953125],"size":[270,78],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"base_images","name":"base_images","type":"IMAGE","link":62},{"localized_name":"watermark","name":"watermark","type":"IMAGE","link":42},{"localized_name":"secret","name":"secret","type":"INT","widget":{"name":"secret"},"link":43}],"outputs":[{"localized_name":"encrypted","name":"encrypted","type":"IMAGE","links":[49]}],"properties":{"cnr_id":"comfyui_stereoscopic","ver":"ff0ed0bbced20e5ee6906bdd16d1f81c934300e3","Node name for S&R":"EncryptWatermark"},"widgets_values":[815]},{"id":32,"type":"PrimitiveInt","pos":[-955.346435546875,674.0386962890625],"size":[270,82],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[40,43]}],"title":"Secret Seed","properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"PrimitiveInt","widget_ue_connectable":{}},"widgets_values":[1259840870,"fixed"]},{"id":44,"type":"Load image with metadata [Crystools]","pos":[-956.6654663085938,246.32135009765625],"size":[287.2251892089844,354.00006103515625],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[55]},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"prompt","name":"prompt","type":"JSON","links":null},{"localized_name":"Metadata RAW","name":"Metadata RAW","type":"METADATA_RAW","links":null}],"title":"Watermark image","properties":{"Node name for S&R":"Load image with metadata [Crystools]"},"widgets_values":["vr/samples/watermark.png","image"]},{"id":40,"type":"MarkdownNote","pos":[-1066.3609619140625,-322.392578125],"size":[480.592529296875,94.95555877685547],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["# Put saved encrypted file here. You find it in user\\default\\comfyui_stereoscopic\\watermark"],"color":"#432","bgcolor":"#653"},{"id":43,"type":"Load image with metadata [Crystools]","pos":[-951.4073486328125,-167.7677001953125],"size":[287.2251892089844,354.00006103515625],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[59,60,61,62]},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"prompt","name":"prompt","type":"JSON","links":null},{"localized_name":"Metadata RAW","name":"Metadata RAW","type":"METADATA_RAW","links":null}],"title":"Saved encoded Image","properties":{"Node name for S&R":"Load image with metadata [Crystools]"},"widgets_values":["vr/samples/Teacher_00152_1k.jpg","image"]},{"id":45,"type":"Load image with metadata [Crystools]","pos":[-954.294677734375,-753.0087280273438],"size":[287.2251892089844,354.00006103515625],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[63]},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"prompt","name":"prompt","type":"JSON","links":null},{"localized_name":"Metadata RAW","name":"Metadata RAW","type":"METADATA_RAW","links":null}],"title":"Image to proof","properties":{"Node name for S&R":"Load image with metadata [Crystools]"},"widgets_values":["example.png","image"]}],"links":[[25,24,0,22,2,"INT"],[26,24,1,22,3,"INT"],[28,22,0,20,1,"IMAGE"],[35,28,0,20,0,"IMAGE"],[40,32,0,28,2,"INT"],[42,22,0,34,1,"IMAGE"],[43,32,0,34,2,"INT"],[49,34,0,38,1,"IMAGE"],[51,38,0,19,0,"IMAGE"],[53,38,0,28,1,"IMAGE"],[55,44,0,22,0,"IMAGE"],[59,43,0,19,1,"IMAGE"],[60,43,0,28,0,"IMAGE"],[61,43,0,24,0,"IMAGE"],[62,43,0,34,0,"IMAGE"],[63,45,0,38,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.7513148009015777,"offset":[1582.6666816361887,1279.2262423974273]},"reroutes":[{"id":1,"pos":[-622.76513671875,-158.56529235839844],"linkIds":[59,60,61,62]}],"ue_links":[],"links_added_by_ue":[],"linkExtensions":[{"id":59,"parentId":1},{"id":60,"parentId":1},{"id":61,"parentId":1},{"id":62,"parentId":1}]},"version":0.4}