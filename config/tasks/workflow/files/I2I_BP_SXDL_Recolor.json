{"id":"623d48ba-2982-4616-8830-86ad0b78031f","revision":0,"last_node_id":98,"last_link_id":166,"nodes":[{"id":56,"type":"StripXML","pos":[900.1233520507812,2175.973388671875],"size":[270,58],"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"localized_name":"formatted","name":"formatted","type":"STRING","widget":{"name":"formatted"},"link":83}],"outputs":[{"localized_name":"raw","name":"raw","type":"STRING","links":[156]}],"properties":{"cnr_id":"comfyui_stereoscopic","ver":"4d707a59d9691955fac60cac392514e9fe2da779","Node name for S&R":"StripXML","widget_ue_connectable":{}},"widgets_values":[""]},{"id":85,"type":"RegexSubstitute","pos":[1224.88916015625,2156.0615234375],"size":[400,232],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"string","name":"string","type":"STRING","widget":{"name":"string"},"link":156},{"localized_name":"regex_pattern","name":"regex_pattern","type":"STRING","widget":{"name":"regex_pattern"},"link":null},{"localized_name":"repl","name":"repl","type":"STRING","widget":{"name":"repl"},"link":null},{"localized_name":"count","name":"count","type":"INT","widget":{"name":"count"},"link":null},{"localized_name":"case_insensitive","name":"case_insensitive","type":"BOOLEAN","widget":{"name":"case_insensitive"},"link":null},{"localized_name":"multiline","name":"multiline","type":"BOOLEAN","widget":{"name":"multiline"},"link":null},{"localized_name":"dotall","name":"dotall","type":"BOOLEAN","widget":{"name":"dotall"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[158]}],"properties":{"cnr_id":"comfyui_stereoscopic","ver":"649cfdec05197a295167113a3715991c45e76b2a","Node name for S&R":"RegexSubstitute","widget_ue_connectable":{}},"widgets_values":[""," black and white "," ",0,true,false,false]},{"id":55,"type":"Florence2Run","pos":[410.65826416015625,2170.86474609375],"size":[400,364],"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":153},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":82},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[]},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"caption","name":"caption","type":"STRING","links":[83]},{"localized_name":"data","name":"data","type":"JSON","links":null}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.5","Node name for S&R":"Florence2Run","widget_ue_connectable":{}},"widgets_values":["","more_detailed_caption",false,false,1024,3,false,"",35472081919481,"randomize"]},{"id":46,"type":"Florence2ModelLoader","pos":[-5.992719650268555,2189.127197265625],"size":[288.740234375,130],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[82]}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.5","Node name for S&R":"Florence2ModelLoader","widget_ue_connectable":{}},"widgets_values":["Florence-2-base","fp16","sdpa",false]},{"id":58,"type":"CLIPTextEncode","pos":[524.7938232421875,1332.72314453125],"size":[400,200],"flags":{"collapsed":true},"order":10,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":160},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":87}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[102]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":[""],"color":"#322","bgcolor":"#533"},{"id":49,"type":"PrimitiveString","pos":[-1046.552001953125,2013.36376953125],"size":[807.7595825195312,58],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[87]}],"title":"Negative","properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"PrimitiveString","widget_ue_connectable":{}},"widgets_values":["text, watermark, oversaturated, black and white, greyscale, color cast, faded, old, washed out, low quality, lacluster"],"color":"#322","bgcolor":"#533"},{"id":7,"type":"ControlNetLoader","pos":[307.1951599121094,1397.45849609375],"size":[475.55560302734375,121.48149108886719],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","slot_index":0,"links":[44]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"ControlNetLoader","widget_ue_connectable":{}},"widgets_values":["sdxl\\control-lora-recolor-rank256.safetensors"]},{"id":11,"type":"KSampler","pos":[1316.6905517578125,1227.6064453125],"size":[315,474],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":10},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":45},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":49},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":26},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":159},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[16]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[114522915618889,"fixed",35,7,"euler_ancestral","normal",1]},{"id":15,"type":"VAEDecode","pos":[1718.078125,1235.92333984375],"size":[210,46],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":16},{"localized_name":"vae","name":"vae","type":"VAE","link":17}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[21]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"VAEDecode","widget_ue_connectable":{}}},{"id":13,"type":"Reroute","pos":[59.326385498046875,1653.8179931640625],"size":[75,26],"flags":{},"order":11,"mode":0,"inputs":[{"name":"","type":"*","link":13}],"outputs":[{"name":"","type":"VAE","slot_index":0,"links":[17]}],"title":"VAE","properties":{"showOutputText":false,"horizontal":false,"widget_ue_connectable":{}}},{"id":64,"type":"StringConcatenate","pos":[402.2189025878906,1857.5908203125],"size":[400,200],"flags":{"collapsed":false},"order":16,"mode":0,"inputs":[{"localized_name":"string_a","name":"string_a","type":"STRING","widget":{"name":"string_a"},"link":94},{"localized_name":"string_b","name":"string_b","type":"STRING","widget":{"name":"string_b"},"link":158},{"localized_name":"delimiter","name":"delimiter","type":"STRING","widget":{"name":"delimiter"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[84]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"StringConcatenate","widget_ue_connectable":{}},"widgets_values":["","",". "]},{"id":63,"type":"PrimitiveString","pos":[-1045.3458251953125,2114.954345703125],"size":[811.39306640625,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[94]}],"title":"Positive Prefix","properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"PrimitiveString","widget_ue_connectable":{}},"widgets_values":[" "],"color":"#232","bgcolor":"#353"},{"id":48,"type":"PrimitiveString","pos":[-1041.720458984375,2215.095703125],"size":[810.1820678710938,58],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[85]}],"title":"Positive Postfix","properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"PrimitiveString","widget_ue_connectable":{}},"widgets_values":[" DSLR, colour photograph, highly detailed, realistic skintones"],"color":"#232","bgcolor":"#353"},{"id":57,"type":"StringConcatenate","pos":[861.6790771484375,1860.23583984375],"size":[400,200],"flags":{"collapsed":false},"order":17,"mode":0,"inputs":[{"localized_name":"string_a","name":"string_a","type":"STRING","widget":{"name":"string_a"},"link":84},{"localized_name":"string_b","name":"string_b","type":"STRING","widget":{"name":"string_b"},"link":85},{"localized_name":"delimiter","name":"delimiter","type":"STRING","widget":{"name":"delimiter"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[163]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"StringConcatenate","widget_ue_connectable":{}},"widgets_values":["","",". "]},{"id":95,"type":"StringConcatenate","pos":[1305.9044189453125,1857.21044921875],"size":[400,200],"flags":{"collapsed":false},"order":18,"mode":0,"inputs":[{"localized_name":"string_a","name":"string_a","type":"STRING","widget":{"name":"string_a"},"link":163},{"localized_name":"string_b","name":"string_b","type":"STRING","widget":{"name":"string_b"},"link":164},{"localized_name":"delimiter","name":"delimiter","type":"STRING","widget":{"name":"delimiter"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[165]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"StringConcatenate","widget_ue_connectable":{}},"widgets_values":["","",", "]},{"id":62,"type":"CLIPTextEncode","pos":[531.35546875,1260.114013671875],"size":[400,200],"flags":{"collapsed":true},"order":19,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":161},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":165}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[101]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":96,"type":"PrimitiveString","pos":[-1046.93505859375,2316.404052734375],"size":[810.1820678710938,58],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[164]}],"title":"Positive Postfix Appendum","properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"PrimitiveString","widget_ue_connectable":{}},"widgets_values":["light blue eyes"],"color":"#232","bgcolor":"#353"},{"id":17,"type":"ColorBlend","pos":[1721.7625732421875,1365.9866943359375],"size":[216.59999084472656,46],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"bw_layer","name":"bw_layer","type":"IMAGE","link":151},{"localized_name":"color_layer","name":"color_layer","type":"IMAGE","link":21}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[120]}],"properties":{"cnr_id":"comfyui-art-venture","ver":"1.1.1","Node name for S&R":"ColorBlend","widget_ue_connectable":{}}},{"id":8,"type":"ControlNetApplyAdvanced","pos":[882.7611694335938,1244.8077392578125],"size":[315,186],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":101},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":102},{"localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":44},{"localized_name":"image","name":"image","type":"IMAGE","link":152},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[45]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[49]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"ControlNetApplyAdvanced","widget_ue_connectable":{}},"widgets_values":[1.0000000000000002,0,1]},{"id":86,"type":"PrimitiveInt","pos":[-1036.19873046875,2432.811279296875],"size":[798.7697143554688,82],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[159]}],"title":"Seed (fixed Flavor)","properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"PrimitiveInt","widget_ue_connectable":{}},"widgets_values":[507824198253856,"fixed"]},{"id":20,"type":"VAEEncode","pos":[72.72908782958984,1289.2603759765625],"size":[210,46],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":150},{"localized_name":"vae","name":"vae","type":"VAE","link":27}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[26]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"VAEEncode","widget_ue_connectable":{}}},{"id":5,"type":"CheckpointLoaderSimple","pos":[-1003.333740234375,1694.03759765625],"size":[315,98],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[10]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[160,161]},{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[13,27]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"CheckpointLoaderSimple","widget_ue_connectable":{}},"widgets_values":["SDXL\\juggernautXL_ragnarokBy.safetensors"],"color":"#947814","bgcolor":"#806400"},{"id":68,"type":"SaveImage","pos":[-484.9551086425781,1303.779541015625],"size":[270,270],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":120},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"SaveImage","widget_ue_connectable":{}},"widgets_values":["RecoloredImage"],"color":"#947814","bgcolor":"#806400"},{"id":94,"type":"MarkdownNote","pos":[-1066.628662109375,995.3043823242188],"size":[931.8966064453125,115.6181411743164],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"properties":{"widget_ue_connectable":{}},"widgets_values":["# Colorize Black/White Photos with SDXL\n\nInspired by Cormac's workflow\nhttps://civitai.com/models/531914/colorize-sdxl-blackwhite-photos"],"color":"#432","bgcolor":"#653"},{"id":67,"type":"LoadImage","pos":[-1008.526123046875,1295.087158203125],"size":[270,314.0001220703125],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[150,151,152,153]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["example_10_bw.png","image"],"color":"#947814","bgcolor":"#806400"}],"links":[[10,5,0,11,0,"MODEL"],[13,5,2,13,0,"*"],[16,11,0,15,0,"LATENT"],[17,13,0,15,1,"VAE"],[21,15,0,17,1,"IMAGE"],[26,20,0,11,3,"LATENT"],[27,5,2,20,1,"VAE"],[44,7,0,8,2,"CONTROL_NET"],[45,8,0,11,1,"CONDITIONING"],[49,8,1,11,2,"CONDITIONING"],[82,46,0,55,1,"FL2MODEL"],[83,55,2,56,0,"STRING"],[84,64,0,57,0,"STRING"],[85,48,0,57,1,"STRING"],[87,49,0,58,1,"STRING"],[94,63,0,64,0,"STRING"],[101,62,0,8,0,"CONDITIONING"],[102,58,0,8,1,"CONDITIONING"],[120,17,0,68,0,"IMAGE"],[150,67,0,20,0,"IMAGE"],[151,67,0,17,0,"IMAGE"],[152,67,0,8,3,"IMAGE"],[153,67,0,55,0,"IMAGE"],[156,56,0,85,0,"STRING"],[158,85,0,64,1,"STRING"],[159,86,0,11,4,"INT"],[160,5,1,58,0,"CLIP"],[161,5,1,62,0,"CLIP"],[163,57,0,95,0,"STRING"],[164,96,0,95,1,"STRING"],[165,95,0,62,1,"STRING"]],"groups":[{"id":1,"title":"Template Input / Output - do not delete! Arguments modified by script!","bounding":[-1062.2764892578125,1140.258056640625,918.9341430664062,736.6014404296875],"color":"#b58b2a","font_size":24,"flags":{}},{"id":2,"title":"Auto-generate positive prompt","bounding":[-15.992744445800781,1763.2882080078125,1871.3828125,830.7138671875],"color":"#8A8","font_size":24,"flags":{}},{"id":3,"title":"Recolor","bounding":[-18.45589256286621,1154.0064697265625,1966.818115234375,557.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Internal Configuration","bounding":[-1056.93505859375,1939.763671875,906.9674682617188,656.1488647460938],"color":"#a1309b","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6303940863128502,"offset":[1879.242524299123,-738.6964483897494]},"ue_links":[],"links_added_by_ue":[]},"version":0.4}